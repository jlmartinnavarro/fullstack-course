(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{42:function(e,n,t){},43:function(e,n,t){"use strict";t.r(n);var r=t(0),c=t(2),a=t.n(c),o=t(17),u=t.n(o),i=t(18),s=t(8),l=t(3),d=function(e){var n=e.person,t=e.deleteHandler;return Object(r.jsxs)("li",{children:[n.name," ",n.number," ",Object(r.jsx)("button",{onClick:t,children:"delete"})]})},j=function(e){var n=e.personsToShow,t=e.deleteHandler;return Object(r.jsx)("ul",{children:n.map((function(e){return Object(r.jsx)(d,{person:e,deleteHandler:t(e.id)},e.id)}))})},b=function(e){var n=e.newName,t=e.handleNameChange,c=e.newNumber,a=e.handleNumberChange,o=e.addPerson;return Object(r.jsx)("div",{children:Object(r.jsxs)("form",{children:[Object(r.jsx)("label",{htmlFor:"name",children:"name:"}),Object(r.jsx)("input",{value:n,onChange:t,id:"name"}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{htmlFor:"number",children:"number:"}),Object(r.jsx)("input",{value:c,onChange:a,id:"number",type:"tel"}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{type:"submit",onClick:o,children:"add"})]})})},h=function(e){var n=e.filter,t=e.handleFilterChange;return Object(r.jsxs)("form",{children:[Object(r.jsx)("label",{htmlFor:"filter",children:"filter shown with "}),Object(r.jsx)("input",{id:"filter",value:n,onChange:t})]})},f=function(e){var n=e.message,t=e.classs;return null===n||""===n?null:Object(r.jsx)("div",{className:t,children:n})},O=t(5),m=t.n(O),x="https://aqueous-river-41570.herokuapp.com/api/persons",p=function(){return m.a.get(x).then((function(e){return e.data}))},g=function(e){return m.a.post(x,e).then((function(e){return e.data}))},v=function(e,n){return console.log(e,n),m.a.put("".concat(x,"/").concat(e),n).then((function(e){return e.data}))},w=function(e,n){return m.a.delete("".concat(x,"/").concat(e)).then((function(e){return e.data})).catch((function(e){return n(e)}))},C=function(){var e=Object(c.useState)([]),n=Object(l.a)(e,2),t=n[0],a=n[1],o=Object(c.useState)(""),u=Object(l.a)(o,2),d=u[0],O=u[1],m=Object(c.useState)(""),x=Object(l.a)(m,2),C=x[0],N=x[1],S=Object(c.useState)(""),k=Object(l.a)(S,2),y=k[0],F=k[1],H=Object(c.useState)(""),L=Object(l.a)(H,2),T=L[0],D=L[1],P=Object(c.useState)("notification"),E=Object(l.a)(P,2),I=E[0],J=E[1];Object(c.useEffect)((function(){p().then((function(e){return a(e)}))}),[]);var q=function(e){console.log(e),J("error"),D(e.response.data),setTimeout((function(){return D("")}),3e3)},B=t.filter((function(e){return e.name.toLocaleLowerCase().includes(y.toLocaleLowerCase())}));return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Phonebook"}),Object(r.jsx)(h,{filter:y,handleFilterChange:function(e){console.log(e.target.value),F(e.target.value)}}),Object(r.jsx)("h2",{children:"add a new"})," ",Object(r.jsx)(f,{message:T,classs:I}),Object(r.jsx)(b,{newName:d,handleNameChange:function(e){console.log(e.target.value),O(e.target.value)},newNumber:C,handleNumberChange:function(e){console.log(e.target.value),N(e.target.value)},addPerson:function(e){e.preventDefault();var n=t.findIndex((function(e){return e.name===d}));if(-1!==n){if(window.confirm("Do you want to update this item?")){v(t[n].id,Object(s.a)(Object(s.a)({},t[n]),{},{number:C}));var r=Object(i.a)(t);r[n].number=C,a(r),O(""),N("")}}else g({name:d,number:C}).then((function(e){J("notification"),D("".concat(d," has been added")),setTimeout((function(){return D("")}),3e3),a(t.concat(e)),O(""),N("")})).catch((function(e){return q(e)}))}}),Object(r.jsx)("h3",{children:"Numbers"}),Object(r.jsx)(j,{personsToShow:B,deleteHandler:function(e){return function(){window.confirm("Do you want to delete this item?")&&(w(e,q),t.find((function(n){return n.id===e})),a(t.filter((function(n){return n.id!==e}))))}}})]})};t(42);u.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(C,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.9b3b8bc7.chunk.js.map