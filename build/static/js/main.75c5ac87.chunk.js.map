{"version":3,"sources":["components/Person.js","components/Persons.js","components/FormPerson.js","components/Filter.js","components/Notification.js","components/ServerComms.js","components/App.js","index.js"],"names":["Person","person","deleteHandler","name","number","onClick","Persons","personsToShow","map","id","FormPerson","newName","handleNameChange","newNumber","handleNumberChange","addPerson","htmlFor","value","onChange","type","Filter","filter","handleFilterChange","Notification","message","classs","className","baseUrl","axios","get","then","response","data","newObject","post","put","catcher","delete","catch","error","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","notificationMessage","setNotificationMessage","notificationHTMLClass","setNotificationHTMLClass","useEffect","serverComms","initialPerson","raiseError","setTimeout","toLocaleLowerCase","includes","event","console","log","target","preventDefault","index","findIndex","window","confirm","copyPersons","concat","find","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.75c5ac87.chunk.js","sourcesContent":["\r\nconst Person = ({person, deleteHandler}) => (\r\n    <li>{person.name} {person.number} <button onClick={deleteHandler}>delete</button></li>\r\n)\r\nexport default Person","import Person from './Person'\r\n\r\nconst Persons =  ({personsToShow, deleteHandler}) => (\r\n    <ul>\r\n        {personsToShow.map((person)=>(<Person key={person.id} person={person} deleteHandler={deleteHandler(person.id)}/>))}          \r\n    </ul>\r\n)\r\n\r\n\r\nexport default Persons","\r\nconst FormPerson = ({newName, handleNameChange, newNumber, handleNumberChange, addPerson}) => (\r\n    \r\n    <div>\r\n        <form>\r\n            <label htmlFor='name'>name:</label>\r\n            <input value={newName} \r\n                onChange={handleNameChange} id='name'/>\r\n            <br/>\r\n            <label htmlFor='number'>number:</label>\r\n            <input value={newNumber}\r\n                onChange={handleNumberChange} id='number' type='tel'/>\r\n            <br/>\r\n            <button type=\"submit\" onClick={addPerson}>add</button>\r\n        </form>\r\n    </div>\r\n)\r\n\r\nexport default FormPerson","const Filter = ({filter, handleFilterChange}) => (\r\n    <form >\r\n        <label htmlFor='filter'>filter shown with </label>\r\n        <input id='filter' value={filter} onChange={handleFilterChange}/>\r\n    </form>\r\n)\r\n\r\nexport default Filter","const Notification = ({ message, classs}) => {\r\n    if (message === null || message === '') {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className={classs}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  \r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst delet = (id, catcher) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data).catch(error => catcher(error))\r\n}\r\n\r\nexport default { getAll, create, update, delet }","import React, { useState, useEffect } from 'react'\r\n\r\nimport Persons from './Persons'\r\nimport FormPerson from './FormPerson'\r\nimport Filter from './Filter'\r\nimport Notification from './Notification'\r\n\r\nimport serverComms from './ServerComms'\r\n\r\nconst App = () => {\r\n  const [ persons   , setPersons   ] = useState([]) \r\n  const [ newName   , setNewName   ] = useState('')\r\n  const [ newNumber , setNewNumber ] = useState('')\r\n  const [ filter    , setNewFilter ] = useState('')\r\n  const [notificationMessage, setNotificationMessage] = useState('')\r\n  const [notificationHTMLClass, setNotificationHTMLClass] = useState('notification')\r\n\r\n  useEffect(() => {\r\n    serverComms.getAll().then(\r\n      initialPerson => setPersons(initialPerson)\r\n    )\r\n  }, [])\r\n\r\n  const handleNameChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)  \r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)  \r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewFilter(event.target.value)\r\n  }\r\n\r\n  const raiseError = (error) => {\r\n    //console.log(error)\r\n          setNotificationHTMLClass('error')\r\n          setNotificationMessage('Error with the action')\r\n          \r\n          setTimeout(() => setNotificationMessage(''), 3000)\r\n\r\n  }\r\n  const addPerson = (event) => {    \r\n    event.preventDefault()\r\n    let index = persons.findIndex(person => person.name === newName)\r\n    if (index !== -1) {\r\n      let confirm = window.confirm(\"Do you want to update this item?\")\r\n      if (confirm) {\r\n        serverComms.update(persons[index].id, {...persons[index], number:newNumber})\r\n        const copyPersons = [...persons]\r\n        copyPersons[index].number = newNumber\r\n        setPersons(copyPersons)\r\n        setNewName('')\r\n        setNewNumber('')   \r\n      }\r\n      \r\n    }\r\n    else {    \r\n        const personObject = {\r\n            name: newName,\r\n            number: newNumber,\r\n            //id: persons.length + 1\r\n        }\r\n        serverComms.create(personObject).then(\r\n          response => {\r\n            setNotificationHTMLClass('notification')\r\n            setNotificationMessage(`${newName} has been added`)\r\n            \r\n            setTimeout(() => setNotificationMessage(''), 3000)\r\n            setPersons(persons.concat(response))\r\n            setNewName('')\r\n            setNewNumber('')    \r\n            \r\n          }\r\n        ).catch(error => raiseError(error))\r\n    }\r\n  }\r\n\r\n  const deleteHandler = (id) => {\r\n    return () => {\r\n      let confirm = window.confirm(\"Do you want to delete this item?\")\r\n      if (confirm) {\r\n        serverComms.delet(id, raiseError)\r\n        persons.find(person => person.id === id)\r\n        setPersons(persons.filter(person => person.id !== id))\r\n      }\r\n    }\r\n  }\r\n\r\n  const personsToShow = persons.filter(person => person.name.toLocaleLowerCase().includes(filter.toLocaleLowerCase()))  \r\n\r\n  return (\r\n    <div>\r\n        <h2>Phonebook</h2>\r\n            <Filter filter={filter} handleFilterChange={handleFilterChange} />\r\n        <h2>add a new</h2> <Notification message={notificationMessage} classs={notificationHTMLClass}/>\r\n            <FormPerson newName={newName} \r\n                        handleNameChange={handleNameChange}\r\n                        newNumber={newNumber}\r\n                        handleNumberChange={handleNumberChange}\r\n                        addPerson={addPerson}/>\r\n        <h3>Numbers</h3>\r\n            <Persons personsToShow={personsToShow} deleteHandler={deleteHandler}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.css';\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}