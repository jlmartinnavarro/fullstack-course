(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(2),a=n.n(c),o=n(17),u=n.n(o),i=n(18),l=n(8),s=n(3),d=function(e){var t=e.person,n=e.deleteHandler;return Object(r.jsxs)("li",{children:[t.name," ",t.number," ",Object(r.jsx)("button",{onClick:n,children:"delete"})]})},j=function(e){var t=e.personsToShow,n=e.deleteHandler;return Object(r.jsx)("ul",{children:t.map((function(e){return Object(r.jsx)(d,{person:e,deleteHandler:n(e.id)},e.id)}))})},b=function(e){var t=e.newName,n=e.handleNameChange,c=e.newNumber,a=e.handleNumberChange,o=e.addPerson;return Object(r.jsx)("div",{children:Object(r.jsxs)("form",{children:[Object(r.jsx)("label",{htmlFor:"name",children:"name:"}),Object(r.jsx)("input",{value:t,onChange:n,id:"name"}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{htmlFor:"number",children:"number:"}),Object(r.jsx)("input",{value:c,onChange:a,id:"number",type:"tel"}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{type:"submit",onClick:o,children:"add"})]})})},h=function(e){var t=e.filter,n=e.handleFilterChange;return Object(r.jsxs)("form",{children:[Object(r.jsx)("label",{htmlFor:"filter",children:"filter shown with "}),Object(r.jsx)("input",{id:"filter",value:t,onChange:n})]})},f=function(e){var t=e.message,n=e.classs;return null===t||""===t?null:Object(r.jsx)("div",{className:n,children:t})},O=n(5),m=n.n(O),x="http://localhost:3001/persons",p=function(){return m.a.get(x).then((function(e){return e.data}))},v=function(e){return m.a.post(x,e).then((function(e){return e.data}))},g=function(e,t){return m.a.put("".concat(x,"/").concat(e),t).then((function(e){return e.data}))},w=function(e,t){return m.a.delete("".concat(x,"/").concat(e)).then((function(e){return e.data})).catch((function(e){return t(e)}))},C=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(""),u=Object(s.a)(o,2),d=u[0],O=u[1],m=Object(c.useState)(""),x=Object(s.a)(m,2),C=x[0],N=x[1],S=Object(c.useState)(""),k=Object(s.a)(S,2),y=k[0],F=k[1],H=Object(c.useState)(""),L=Object(s.a)(H,2),T=L[0],D=L[1],E=Object(c.useState)("notification"),P=Object(s.a)(E,2),I=P[0],J=P[1];Object(c.useEffect)((function(){p().then((function(e){return a(e)}))}),[]);var B=function(e){J("error"),D("Error with the action"),setTimeout((function(){return D("")}),3e3)},M=n.filter((function(e){return e.name.toLocaleLowerCase().includes(y.toLocaleLowerCase())}));return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Phonebook"}),Object(r.jsx)(h,{filter:y,handleFilterChange:function(e){console.log(e.target.value),F(e.target.value)}}),Object(r.jsx)("h2",{children:"add a new"})," ",Object(r.jsx)(f,{message:T,classs:I}),Object(r.jsx)(b,{newName:d,handleNameChange:function(e){console.log(e.target.value),O(e.target.value)},newNumber:C,handleNumberChange:function(e){console.log(e.target.value),N(e.target.value)},addPerson:function(e){e.preventDefault();var t=n.findIndex((function(e){return e.name===d}));if(-1!==t){if(window.confirm("Do you want to update this item?")){g(n[t].id,Object(l.a)(Object(l.a)({},n[t]),{},{number:C}));var r=Object(i.a)(n);r[t].number=C,a(r),O(""),N("")}}else v({name:d,number:C}).then((function(e){J("notification"),D("".concat(d," has been added")),setTimeout((function(){return D("")}),3e3),a(n.concat(e)),O(""),N("")})).catch((function(e){return B()}))}}),Object(r.jsx)("h3",{children:"Numbers"}),Object(r.jsx)(j,{personsToShow:M,deleteHandler:function(e){return function(){window.confirm("Do you want to delete this item?")&&(w(e,B),n.find((function(t){return t.id===e})),a(n.filter((function(t){return t.id!==e}))))}}})]})};n(42);u.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(C,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.eb19e863.chunk.js.map